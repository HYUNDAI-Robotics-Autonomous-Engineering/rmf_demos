<?xml version='1.0' ?>
<!-- Launch file to run dispatcher node and dispatcher web server -->

<launch>
  <arg name="use_sim_time" default="true" description="Use the /clock topic for time to sync with simulation"/>
  <arg name="config_file" default="" description="task_list json"/>
  <arg name="server_ip" default="0.0.0.0" description="GUI IP address"/>

  <!-- Dispatcher Node -->
  <group>
    <node pkg="rmf_task_ros2" exec="rmf_task_dispatcher"  output="screen">
      <param name="use_sim_time" value="$(var use_sim_time)"/>

      <!-- Time Window for a bidding process, in secs --> 
      <param name="bidding_time_window" value="7.0"/>
    </node>
  </group>

  <!-- Dispatcher GUI Server -->
  <group>
    <node pkg="rmf_demo_panel" exec="dispatcher_gui"  output="screen"  args=" --load $(var config_file)" >
      <param name="use_sim_time" value="$(var use_sim_time)"/>
      <env name="DISPATCHER_GUI_IP_ADDRESS" value="$(var server_ip)" />
    </node>
  </group>

</launch>

